webpackJsonp([2],{249:function(t,e,a){"use strict";function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(41),o=n(i),r=a(1),l=n(r),c=a(61),d=a(222),u=n(d),p=a(24),h=s(p),f=a(57),g=n(f);l.default.locale("zh-cn"),e.default={components:{Selector:u.default},data:function(){return{tableOptions:{columns:[{label:"问题名称",field:"question"},{label:"问题类别",field:"category"},{label:"问题归属",field:"kind"},{label:"最后更新时间",field:"updateTime",sort:!0},{label:"操作人员",field:"operator"}]},firstC:"",secondC:"",thirdC:""}},computed:(0,o.default)({},(0,c.mapGetters)({qaList:"qaList",qaOptionsData:"qaCategoryData"}),{tableData:function(){var t=this,e=function(e){if(!t.qaOptionsData.length)return"";var a="常见问题",s=parseInt(e.toString().substr(0,2)+"0000",10),n=(0,g.default)(t.qaOptionsData,{id:s});if(a+=" > "+n.label,s!==e){var i=parseInt(e.toString().substr(0,4)+"00",10),o=(0,g.default)(n.children,{id:i});if(a+=" > "+o.label,i!==e){var r=(0,g.default)(o.children,{id:e});a+=" > "+r.label}}return a};return this.qaList.data.map(function(t){return t.category||(t.category=e(t.categoryId)),t})},secondCList:function(){return this.firstC?(0,g.default)(this.qaOptionsData,{id:this.firstC}).children||[]:[]},thirdCList:function(){return this.secondC?(0,g.default)(this.secondCList,{id:this.secondC}).children||[]:[]},questionCategory:function(){return this.thirdC||this.secondC||this.firstC}}),watch:{firstC:function(){this.secondC=""},secondC:function(t){this.thirdC=""}},created:function(){this.$store.state.qaManagement.qaCategoryData.length||this.$store.dispatch(h.GET_QA_CATEGORY_LIST),this.$store.dispatch(h.GET_QA_LIST,{page:1,size:20})},methods:{categoryChange:function(t,e){this[e]=t},newQaLink:function(){this.$router.push("/qa-management/new-qa")},changePage:function(t){this.$store.dispatch(h.GET_QA_LIST,{categoryId:this.questionCategory,page:t,size:20})},searchFunc:function(){this.$store.dispatch(h.GET_QA_LIST,{categoryId:this.questionCategory,page:1,size:20})}}}},324:315,423:function(t,e){t.exports=' <div class=qa-management-page> <div class=module-header> <h2 class=module-title> 常见问题列表 <button class=gt-btn-solid @click=newQaLink>新建常见问题</button> </h2> </div> <div class=module-body> <div class=search-and-operate> <label class="form-label required">问题分类:</label> <selector :data-list=qaOptionsData v-on:val-change="val => categoryChange(val, \'firstC\')" :val=firstC :opts="{ needEmpty: true, emptyLabel: \'请选择一级分类\' }"> </selector> <selector :data-list=secondCList v-on:val-change="val => categoryChange(val, \'secondC\')" :val=secondC :opts="{ needEmpty: true, emptyLabel: \'请选择二级分类\' }"> </selector> <selector :data-list=thirdCList v-on:val-change="val => categoryChange(val, \'thirdC\')" :val=thirdC :opts="{ needEmpty: true, emptyLabel: \'请选择三级分类\' }"> </selector> <button class=gt-btn-solid @click=searchFunc>搜索</button> </div> <gt-table :columns=tableOptions.columns :data=tableData></gt-table> <gt-pagination :page=qaList.pageable.page :total=qaList.total :size=qaList.pageable.size v-on:page-change=changePage></gt-pagination> </div> </div> '},432:function(t,e,a){var s,n,i={};a(324),s=a(249),n=a(423),t.exports=s||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(o.template=n),o.computed||(o.computed={}),Object.keys(i).forEach(function(t){var e=i[t];o.computed[t]=function(){return e}})}});